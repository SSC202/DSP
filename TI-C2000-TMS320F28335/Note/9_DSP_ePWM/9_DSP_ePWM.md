# DSP TI C2000 9_ePWM(extern PWM，增强型脉宽调制模块)

## 1. F28335 ePWM简介

### ePWM 模块

每个 ePWM 模块由两路 ePWM 输出组成，分别为 ePWMxA 和 ePWMxB，这一对 PWM输出，可以配置成两路独立的单边沿 PWM 输出，或者两路独立的但互相相对称的双边沿 PWM 输出，或者一对双边沿非对称的 PWM 输出，共有 6 对这样的 ePWM 模块，因为每对 PWM 模块中的两个 PWM 输出均可以单独使用，所以也可以认为有 12 路单路 ePWM，除此之外还有 6 个 APWM，这 6 个 APWM 通过 CAP 模块扩展配置，可以独立使用，所以 F28335 最多可以有 18 路 PWM 输出。

每一组 ePWM 模块都包含以下 7 个模块：**时基模块 TB、计数比较模块 CC、动作模块 AQ、死区产生模块 DB、PWM 斩波模块 PC、错误联防模块 TZ、时间触发模块 ET**。

![NULL](./assets/picture_1.jpg)

- ePWM 的输入输出信号

![NULL](./assets/picture_2.jpg)

> 1. PWM 输出信号（ePWMxA 和 ePWMxB）：PWM 输出引脚与 GPIO 引脚复用，具体配置时需参考 GPIO 引脚配置。
> 2. 时间基础同步输入（ePWMxSYNCI）和输出（ePWMxSYNCO）信号：同步时钟信号将 ePWM 各个模块的所有单元联系在一起，每个 ePWM 模块都可以根据需要被配置为使用同步信号或忽略它的同步输入成为独立单元。时钟同步输入和输出信号仅由 ePWM1 引脚产生，ePWM1 的同步输出也与第一个捕获模块（eCAP1）的同步信号相连接。
> 3. 错误联防信号（TZ1~TZ6）：当外部被控单元符合错误条件时，诸如 IGBT 等功率器件模块过电压、过电流或过热时，这些输入信号为 ePWM 模块发出错误警告。每个模块都可以被配置使用或忽略错误联防信号，同时 TZ1~TZ6 可以设置为 GPIO 外设的异步输入。
> 4. ADC 启动信号（ePWMSOCA 和 ePWMSOCB）：每个 ePWM 模块都有两个 ADC 转换启动信号，任何一个 ePWM 模块都可以启动 ADC。触发 ADC 的转换信号的事件由 ePWM 模块中事件触发子模块来配置。
> 5. 外设总线：外设总线宽度为 32 位，允许 16 位和 32 位数据通过外设总线写入 ePWM 模块寄存器。

